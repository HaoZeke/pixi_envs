* About
Helper for integrating ~metatomic~ into GROMACS.

The primary development repository functions as a GitLab fork. Contributors should clone and work with this fork for all major development:
#+begin_src bash
git clone https://gitlab.com/HaoZeke/gromacs.git
#+end_src
- This fork connects with the upstream GitLab GROMACS for an eventual "MR," or merge request.
- The project also maintains a GitHub mirror on the =metatensor= organization.
  + Developers may submit pull requests, or "PRs" to this mirror.

Regardless of where a contribution begins, a single merge request for
=metatomic= proceeds through the GitLab fork to the GROMACS upstream repository.
** Build details
Basic build:
#+begin_src bash
cd gromacs
mkdir build
cd build
cmake .. \
    -DGMX_BUILD_OWN_FFTW=ON \
    -DCMAKE_CXX_COMPILER_LAUNCHER=sccache \
    -DCMAKE_C_COMPILER_LAUNCHER=sccache \
    -DCMAKE_CXX_COMPILER=$(which clang++) \
    -DCMAKE_C_COMPILER=$(which clang) \
    -DGMX_MPI=yes \
    -DCMAKE_BUILD_TYPE=Debug
make -j$(nproc)
cmake install --install-prefix $CONDA_PREFIX
#+end_src
Easier with the ~pixi~ environment:
#+begin_src bash
pixi s
cd gromacs
mkdir build; cd $_
TORCH_PREFIX=$(python -c "import torch; print(torch.utils.cmake_prefix_path)")
MTS_PREFIX=$(python -c "import metatensor; print(metatensor.utils.cmake_prefix_path)")
MTS_TORCH_PREFIX=$(python -c "import metatensor.torch; print(metatensor.torch.utils.cmake_prefix_path)")
MTA_TORCH_PREFIX=$(python -c "import metatomic.torch; print(metatomic.torch.utils.cmake_prefix_path)")
CMAKE_PREFIX_PATH="$TORCH_PREFIX;$MTS_PREFIX;$MTS_TORCH_PREFIX;$MTA_TORCH_PREFIX"
cmake .. \
    -DGMX_BUILD_OWN_FFTW=OFF \
    -DCMAKE_CXX_COMPILER_LAUNCHER=sccache \
    -DCMAKE_C_COMPILER_LAUNCHER=sccache \
    -DGMX_MPI=yes \
    -DGMX_METATOMIC=yes \
    -DCMAKE_PREFIX_PATH="$CMAKE_PREFIX_PATH" \
    -DCMAKE_BUILD_TYPE=Debug \
    -DCMAKE_CXX_FLAGS="-D_LIBCPP_DISABLE_AVAILABILITY -I$CONDA_PREFIX/targets/x86_64-linux/include/ -I../src"

make -j$(nproc)
#+end_src
*** TODO Use ~fftw3~
